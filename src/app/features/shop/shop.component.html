@if (products) {
  <div>
   <div class=>
      <mat-paginator
         (page)="handlePageEvent($event)"
         [length]="products.totalEntities"
         [pageSize]="shopPaginationParams.entitiesPerPage"
         [showFirstLastButtons]="true"
         [pageSizeOptions]="pageSizeOptions"
         [pageIndex]="shopPaginationParams.pageNumber - 1"
         aria-label="Select page"
      >

      </mat-paginator>
      
      <form 
          #searchForm="ngForm"
          (ngSubmit)="onSearchChange()"
          >
           <input type="search" 
              placeholder="Search"
              name="search"
              [(ngModel)]="shopPaginationParams.search"
            />
           <button mat-icon-button type="submit"
           >
              <mat-icon>search</mat-icon>
           </button>
        </form>

      <div>
        <button mat-stroked-button (click)="openFiltersDialog()">
         <mat-icon>filter_list</mat-icon>
         Filters
      </button>
      <button mat-stroked-button [mat-menu-trigger-for]="sortMenu">
         <mat-icon>swap_vert</mat-icon>
         Sort
      </button>
      </div>
      
   </div>

   <div>
    @for (product of products.data; track product.id) {
        <app-product-item [product]="product"></app-product-item>
    }
    </div>

</div>

<mat-menu #sortMenu="matMenu">
    <mat-selection-list [multiple]="false" (selectionChange)="onSortChange($event)">
        @for (sort of sortOptions; track $index) {
            <mat-list-option [value]="sort.value" [selected]="shopPaginationParams.sort === sort.value">
                {{sort.name}}
            </mat-list-option>
        }
    </mat-selection-list>
</mat-menu>

}



 

 
