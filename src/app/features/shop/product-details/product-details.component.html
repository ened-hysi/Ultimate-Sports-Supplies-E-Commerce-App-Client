@if (product) {
   <section class="py-4">
     
    <div class="container-xxl px-4 mx-auto">
        <div class="row g-4">

            <div class="col-md-6 d-flex justify-content-center">
                <div class="w-100" style="max-width: 600px;">
                <!--Start-->
                    <div #carouselRef id="carouselProductImages" class="carousel slide" data-bs-ride="false">
                        <div class="carousel-inner">
                            @for (picture of product.productPictures;  track picture.id; let i = $index) {
                                <div class="carousel-item" [class.active]="i === 0">
                                    <img [src]="picture.pictureUrl" class="d-block w-100 img-fluid" style="max-height: 660px; object-fit: cover;" alt="Product image">
                                </div>
                            }
                        </div>

                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselProductImages" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselProductImages" data-bs-slide="next">
                            <span class="carousel-control-next-icon"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                <!--End-->
                </div>
            </div>
           
           
            <div class="col-md-6">
                <h1 class="fs-4 fw-semibold text-dark">{{product.name}}</h1>
                
                <p>You have {{quantityInCart}} of this item in your cart</p>
        
                
                <div class="mt-3 d-flex align-items-center">
                    <p class="fs-2 fw-bold text-dark mb-0">
                        {{product.price | currency}}
                    </p>
                </div>

                <div class="d-flex gap-3 mt-4 align-items-stretch">
                    <button [disabled]="quantity === quantityInCart"
                       (click)="updateCart()"
                       mat-flat-button 
                       class="btn btn-lg text-white match-input-height d-flex align-items-center"
                       style="background-color: #8B0000; border-radius: 0.375rem;"
                       >
                        <mat-icon>shopping_cart</mat-icon>
                        <span class="ms-2">{{getButtonText()}}</span>
                    </button>
                  
                    <mat-form-field appearance="outline" class="flex-grow-1">
                        <mat-label>Quantity</mat-label>
                        <input matInput min="0" [(ngModel)]="quantity" type="number">
                    </mat-form-field>
                </div>

                <mat-divider></mat-divider>

                <p class="mt-4 text-muted">
                    {{product.description}}
                </p>
            </div>

        </div>
     </div>
   </section>
}
